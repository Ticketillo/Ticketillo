{
    "name": "backend",
    "version": "0.0.0",
    "description": "Base backend API",
    "author": "Adri√† Carrera <acarrera@peersyst.com>",
    "private": true,
    "scripts": {
        "prebuild": "rimraf dist",
        "build": "nest build",
        "start": "nest start --watch",
        "test": "jest --coverage",
        "test:unit": "jest --watch",
        "test:e2e": "jest --config ./test/jest-e2e.json --coverage",
        "lint": "eslint . --ext .ts,.json --max-warnings=0",
        "typeorm": "ts-node -r tsconfig-paths/register ./node_modules/typeorm/cli.js -d src/config/typeorm.config.ts",
        "db:migration:create": "npm run typeorm -- migration:create",
        "db:migration:generate": "npm run typeorm -- migration:generate",
        "db:migration:run": "npm run typeorm migration:run",
        "db:migration:revert": "npm run typeorm migration:revert",
        "db:schema:drop": "npm run typeorm -- schema:drop",
        "db:seed": "env-cmd --silent ts-node src/database/seeders/index.ts",
        "db:pack": "npm run db:schema:drop && npm run db:migration:run && npm run db:seed",
        "db:entities:generate": "typeorm-model-generator -h localhost -d db_database -u db_user -x db_password -e mysql -o ./src/database"
    },
    "jest": {
        "moduleFileExtensions": [
            "js",
            "json",
            "ts"
        ],
        "rootDir": ".",
        "testRegex": ".*\\.spec\\.ts$",
        "transform": {
            "^.+\\.ts$": "ts-jest"
        },
        "collectCoverageFrom": [
            "./src/modules/**/*.ts",
            "!./src/modules/**/*.controller.ts",
            "!./src/modules/**/*.request.ts",
            "!./src/modules/**/*.dto.ts",
            "!./src/modules/auth/guards/**/*.ts",
            "!./src/modules/auth/strategies/**/*.ts",
            "!./src/modules/auth/auth.decorator.ts",
            "!./src/modules/common/exception/**/*.ts",
            "!./src/modules/**/*.module.ts"
        ],
        "coverageDirectory": "./coverage",
        "testEnvironment": "node",
        "coverageThreshold": {
            "global": {
                "branches": 90,
                "statements": 90
            }
        }
    },
    "dependencies": {
        "@nanogiants/nestjs-swagger-api-exception-decorator": "^1.6.5",
        "@nestjs/cli": "9.2.0",
        "@nestjs/common": "9.3.7",
        "@nestjs/config": "^2.3.0",
        "@nestjs/core": "9.3.7",
        "@nestjs/jwt": "10.0.1",
        "@nestjs/passport": "9.0.2",
        "@nestjs/platform-express": "9.3.7",
        "@nestjs/swagger": "~6.2.1",
        "@nestjs/typeorm": "^9.0.1",
        "bcrypt": "^5.1.0",
        "class-transformer": "0.5.1",
        "class-validator": "0.14.0",
        "cross-env": "^7.0.3",
        "env-cmd": "^10.1.0",
        "express-openapi-validator": "^5.0.1",
        "helmet": "^6.0.1",
        "morgan": "^1.10.0",
        "nest-winston": "^1.8.0",
        "nestjs-command": "^3.1.3",
        "object-mapper": "^6.2.0",
        "pg": "^8.9.0",
        "reflect-metadata": "0.1.13",
        "rimraf": "4.1.2",
        "rxjs": "^7.8.0",
        "swagger-ui-express": "4.6.0",
        "typeorm": "^0.3.12",
        "winston": "^3.8.2",
        "yargs": "^17.6.2"
    },
    "devDependencies": {
        "@nestjs/schematics": "9.0.4",
        "@nestjs/testing": "9.3.7",
        "@types/bcrypt": "^5.0.0",
        "@types/express": "4.17.17",
        "@types/jest": "^29.4.0",
        "@types/morgan": "^1.9.4",
        "@types/node": "18.13.0",
        "@types/object-mapper": "^6.2.0",
        "@types/random-seed": "^0.3.3",
        "@types/supertest": "2.0.12",
        "@types/ws": "8.5.4",
        "@types/yargs": "^17.0.22",
        "@typescript-eslint/eslint-plugin": "^5.51.0",
        "@typescript-eslint/parser": "^5.51.0",
        "eslint": "^8.33.0",
        "eslint-config-prettier": "8.6.0",
        "eslint-plugin-import": "2.27.5",
        "eslint-plugin-prettier": "4.2.1",
        "ts-loader": "9.4.2",
        "ts-node": "10.9.1",
        "tsconfig-paths": "4.1.2",
        "typeorm-model-generator": "^0.4.6",
        "typescript": "4.9.5"
    }
}
